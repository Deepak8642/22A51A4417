{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deepa\\\\OneDrive\\\\AppData\\\\Desktop\\\\affordmed\\\\url-shortener-project\\\\frontend\\\\src\\\\components\\\\ShortenerForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Typography } from '@mui/material';\nimport { createShortUrl } from '../utils/api'; // Correct import\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShortenerForm = () => {\n  _s();\n  const [url, setUrl] = useState('');\n  const [validity, setValidity] = useState(30);\n  const [shortcode, setShortcode] = useState('');\n  const [shortenedLinks, setShortenedLinks] = useState([]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!isValidUrl(url)) {\n      alert('Please enter a valid URL.');\n      return;\n    }\n    try {\n      const response = await createShortUrl(url, validity); // Use named export function\n      setShortenedLinks([...shortenedLinks, response]); // response already contains data\n      resetForm();\n    } catch (error) {\n      alert('Error creating short URL: ' + (error.message || 'Unknown error'));\n    }\n  };\n  const isValidUrl = string => {\n    const pattern = new RegExp('^(https?:\\\\/\\\\/)?' +\n    // protocol\n    '((([a-z0-9](?:[a-z0-9-]*[a-z0-9])?)\\\\.)+[a-z]{2,}|' +\n    // domain name\n    'localhost|' +\n    // localhost\n    '\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|' +\n    // IP address\n    '\\\\[?[a-f0-9]*:[a-f0-9:%.]*\\\\]?)' +\n    // IPv6\n    '(\\\\:\\\\d+)?(\\\\/[-a-z0-9+&@#/%=~_|$?!:.]*[a-z0-9+&@#/%=~_|$])?$', 'i');\n    return !!pattern.test(string);\n  };\n  const resetForm = () => {\n    setUrl('');\n    setValidity(30);\n    setShortcode('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"URL Shortener\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        marginTop: '16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Original URL\",\n        variant: \"outlined\",\n        fullWidth: true,\n        value: url,\n        onChange: e => setUrl(e.target.value),\n        required: true,\n        style: {\n          marginBottom: '12px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Validity (minutes)\",\n        variant: \"outlined\",\n        type: \"number\",\n        fullWidth: true,\n        value: validity,\n        onChange: e => setValidity(e.target.value),\n        style: {\n          marginBottom: '12px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Custom Shortcode (optional)\",\n        variant: \"outlined\",\n        fullWidth: true,\n        value: shortcode,\n        onChange: e => setShortcode(e.target.value),\n        style: {\n          marginBottom: '12px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Shorten URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '24px'\n      },\n      children: shortenedLinks.map((link, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: [link.shortLink, \" (Expires: \", link.expiry, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(ShortenerForm, \"yVfDrn4AeZmua+Tjm71jYFgzLDo=\");\n_c = ShortenerForm;\nexport default ShortenerForm;\nvar _c;\n$RefreshReg$(_c, \"ShortenerForm\");","map":{"version":3,"names":["React","useState","TextField","Button","Typography","createShortUrl","jsxDEV","_jsxDEV","ShortenerForm","_s","url","setUrl","validity","setValidity","shortcode","setShortcode","shortenedLinks","setShortenedLinks","handleSubmit","e","preventDefault","isValidUrl","alert","response","resetForm","error","message","string","pattern","RegExp","test","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","marginTop","label","fullWidth","value","onChange","target","required","marginBottom","type","color","map","link","index","shortLink","expiry","_c","$RefreshReg$"],"sources":["C:/Users/deepa/OneDrive/AppData/Desktop/affordmed/url-shortener-project/frontend/src/components/ShortenerForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { TextField, Button, Typography } from '@mui/material';\nimport { createShortUrl } from '../utils/api'; // Correct import\n\nconst ShortenerForm = () => {\n    const [url, setUrl] = useState('');\n    const [validity, setValidity] = useState(30);\n    const [shortcode, setShortcode] = useState('');\n    const [shortenedLinks, setShortenedLinks] = useState([]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!isValidUrl(url)) {\n            alert('Please enter a valid URL.');\n            return;\n        }\n\n        try {\n            const response = await createShortUrl(url, validity); // Use named export function\n            setShortenedLinks([...shortenedLinks, response]); // response already contains data\n            resetForm();\n        } catch (error) {\n            alert('Error creating short URL: ' + (error.message || 'Unknown error'));\n        }\n    };\n\n    const isValidUrl = (string) => {\n        const pattern = new RegExp(\n            '^(https?:\\\\/\\\\/)?' + // protocol\n            '((([a-z0-9](?:[a-z0-9-]*[a-z0-9])?)\\\\.)+[a-z]{2,}|' + // domain name\n            'localhost|' + // localhost\n            '\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|' + // IP address\n            '\\\\[?[a-f0-9]*:[a-f0-9:%.]*\\\\]?)' + // IPv6\n            '(\\\\:\\\\d+)?(\\\\/[-a-z0-9+&@#/%=~_|$?!:.]*[a-z0-9+&@#/%=~_|$])?$',\n            'i'\n        );\n        return !!pattern.test(string);\n    };\n\n    const resetForm = () => {\n        setUrl('');\n        setValidity(30);\n        setShortcode('');\n    };\n\n    return (\n        <div>\n            <Typography variant=\"h5\">URL Shortener</Typography>\n            <form onSubmit={handleSubmit} style={{ marginTop: '16px' }}>\n                <TextField\n                    label=\"Original URL\"\n                    variant=\"outlined\"\n                    fullWidth\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                    required\n                    style={{ marginBottom: '12px' }}\n                />\n                <TextField\n                    label=\"Validity (minutes)\"\n                    variant=\"outlined\"\n                    type=\"number\"\n                    fullWidth\n                    value={validity}\n                    onChange={(e) => setValidity(e.target.value)}\n                    style={{ marginBottom: '12px' }}\n                />\n                <TextField\n                    label=\"Custom Shortcode (optional)\"\n                    variant=\"outlined\"\n                    fullWidth\n                    value={shortcode}\n                    onChange={(e) => setShortcode(e.target.value)}\n                    style={{ marginBottom: '12px' }}\n                />\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n                    Shorten URL\n                </Button>\n            </form>\n\n            <div style={{ marginTop: '24px' }}>\n                {shortenedLinks.map((link, index) => (\n                    <div key={index}>\n                        <Typography variant=\"body1\">\n                            {link.shortLink} (Expires: {link.expiry})\n                        </Typography>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default ShortenerForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}